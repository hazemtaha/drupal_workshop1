<?php

function news_node_info() {
	return array(
		'news' => array(
			'name' => 'News',
			'base' => 'news',
			'description' => t('News Content Type'),
			'has_title' => True,
			'title_label' => t('News Title'),
		),
	);
}

function news_menu() {
	$items['news/normal_add'] = array(
		'type' => MENU_CALLBACK,
		'title' => t('Add News'),
		'description' => 'News Publishing Page',
		'page callback' => 'news_normal_add',
		'access callback' => True,
		// 'access callback' => 'user_access',
		// 'access arguments' => array('access content'),
	);
	$items['news/normal_edit/%node'] = array(
		'type' => MENU_CALLBACK,
		'title' => t('Add News'),
		'description' => 'News Publishing Page',
		'page callback' => 'news_normal_edit',
		'page arguments' => array(2),
		'access callback' => True,
		// 'access callback' => 'user_access',
		// 'access arguments' => array('access content'),
	);
	return $items;
}

function news_normal_add() {
	module_load_include('inc', 'node', 'node.pages');
	$form = node_add('news');
	return drupal_render($form);
}

function news_normal_edit($node) {
	module_load_include('inc', 'node', 'node.pages');
	// $node->content['edit-form'] = array(
	// 	'#markup' => render(node_page_edit($node)),
	// 	'#weight' => 10,
	// );
	$edit_form = node_page_edit($node);
	return drupal_render($edit_form);
}

function news_node_view($node, $view_mode, $langcode) {

}
function news_form($node, $form_state) {
	return node_content_form($node, $form_state);
}

function news_views_api() {
	return array(
		'api' => '3.0',
	);
}

function news_views_default_views() {
	$path = drupal_get_path('module', 'news') . '/views/*.inc';
	$views = array();
	foreach (glob($path) as $views_filename) {
		require_once $views_filename;
	}
	return $views;
}